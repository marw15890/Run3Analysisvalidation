#!/bin/bash
FileIn="$1"
JSON="$2"
mkdir sockets && \
o2-analysis-hf-track-index-skims-creator -b --configuration json://$JSON --aod-memory-rate-limit 2000000000 --shm-segment-size 16000000000 --min-failure-level error --aod-writer-keep AOD/HFSELCOLLISION/0,AOD/HFSELTRACK/0,AOD/HF2PRONG/0,AOD/HF3PRONG/0,AOD/HFCANDP3BASE/0,AOD/HFCANDP3EXT/0,AOD/HFCANDP3MCREC/0,AOD/HFCANDP3MCGEN/0,AOD/HFCANDXICC4P/0,AOD/HFCANDXICCEXT/0,AOD/HFXICC4MCREC/0,AOD/HFXICC4MCGEN/0,AOD/HFSELXICC4CAND/0,AOD/HFSELLCCAND/0,AOD/HFXicc4Full/0,AOD/HFXicc4FullE/0,AOD/HFXicc4FullP/0 | \
o2-analysis-hf-candidate-creator-3prong -b --configuration json://$JSON --aod-memory-rate-limit 2000000000 --shm-segment-size 16000000000 --min-failure-level error --aod-writer-keep AOD/HFSELCOLLISION/0,AOD/HFSELTRACK/0,AOD/HF2PRONG/0,AOD/HF3PRONG/0,AOD/HFCANDP3BASE/0,AOD/HFCANDP3EXT/0,AOD/HFCANDP3MCREC/0,AOD/HFCANDP3MCGEN/0,AOD/HFCANDXICC4P/0,AOD/HFCANDXICCEXT/0,AOD/HFXICC4MCREC/0,AOD/HFXICC4MCGEN/0,AOD/HFSELXICC4CAND/0,AOD/HFSELLCCAND/0,AOD/HFXicc4Full/0,AOD/HFXicc4FullE/0,AOD/HFXicc4FullP/0 | \
o2-analysis-hf-candidate-creator-lb -b --configuration json://$JSON --aod-memory-rate-limit 2000000000 --shm-segment-size 16000000000 --min-failure-level error --aod-writer-keep AOD/HFSELCOLLISION/0,AOD/HFSELTRACK/0,AOD/HF2PRONG/0,AOD/HF3PRONG/0,AOD/HFCANDP3BASE/0,AOD/HFCANDP3EXT/0,AOD/HFCANDP3MCREC/0,AOD/HFCANDP3MCGEN/0,AOD/HFCANDXICC4P/0,AOD/HFCANDXICCEXT/0,AOD/HFXICC4MCREC/0,AOD/HFXICC4MCGEN/0,AOD/HFSELXICC4CAND/0,AOD/HFSELLCCAND/0,AOD/HFXicc4Full/0,AOD/HFXicc4FullE/0,AOD/HFXicc4FullP/0 | \
o2-analysis-hf-lb-tolcpi-candidate-selector -b --configuration json://$JSON --aod-memory-rate-limit 2000000000 --shm-segment-size 16000000000 --min-failure-level error --aod-writer-keep AOD/HFSELCOLLISION/0,AOD/HFSELTRACK/0,AOD/HF2PRONG/0,AOD/HF3PRONG/0,AOD/HFCANDP3BASE/0,AOD/HFCANDP3EXT/0,AOD/HFCANDP3MCREC/0,AOD/HFCANDP3MCGEN/0,AOD/HFCANDXICC4P/0,AOD/HFCANDXICCEXT/0,AOD/HFXICC4MCREC/0,AOD/HFXICC4MCGEN/0,AOD/HFSELXICC4CAND/0,AOD/HFSELLCCAND/0,AOD/HFXicc4Full/0,AOD/HFXicc4FullE/0,AOD/HFXicc4FullP/0 | \
o2-analysis-hf-lc-candidate-selector -b --configuration json://$JSON --aod-memory-rate-limit 2000000000 --shm-segment-size 16000000000 --min-failure-level error --aod-writer-keep AOD/HFSELCOLLISION/0,AOD/HFSELTRACK/0,AOD/HF2PRONG/0,AOD/HF3PRONG/0,AOD/HFCANDP3BASE/0,AOD/HFCANDP3EXT/0,AOD/HFCANDP3MCREC/0,AOD/HFCANDP3MCGEN/0,AOD/HFCANDXICC4P/0,AOD/HFCANDXICCEXT/0,AOD/HFXICC4MCREC/0,AOD/HFXICC4MCGEN/0,AOD/HFSELXICC4CAND/0,AOD/HFSELLCCAND/0,AOD/HFXicc4Full/0,AOD/HFXicc4FullE/0,AOD/HFXicc4FullP/0 | \
o2-analysis-hf-tree-creator-lb-tolcpi -b --configuration json://$JSON --aod-memory-rate-limit 2000000000 --shm-segment-size 16000000000 --min-failure-level error --aod-writer-keep AOD/HFSELCOLLISION/0,AOD/HFSELTRACK/0,AOD/HF2PRONG/0,AOD/HF3PRONG/0,AOD/HFCANDP3BASE/0,AOD/HFCANDP3EXT/0,AOD/HFCANDP3MCREC/0,AOD/HFCANDP3MCGEN/0,AOD/HFCANDXICC4P/0,AOD/HFCANDXICCEXT/0,AOD/HFXICC4MCREC/0,AOD/HFXICC4MCGEN/0,AOD/HFSELXICC4CAND/0,AOD/HFSELLCCAND/0,AOD/HFXicc4Full/0,AOD/HFXicc4FullE/0,AOD/HFXicc4FullP/0 | \
o2-analysis-mc-converter -b --configuration json://$JSON --aod-memory-rate-limit 2000000000 --shm-segment-size 16000000000 --min-failure-level error --aod-writer-keep AOD/HFSELCOLLISION/0,AOD/HFSELTRACK/0,AOD/HF2PRONG/0,AOD/HF3PRONG/0,AOD/HFCANDP3BASE/0,AOD/HFCANDP3EXT/0,AOD/HFCANDP3MCREC/0,AOD/HFCANDP3MCGEN/0,AOD/HFCANDXICC4P/0,AOD/HFCANDXICCEXT/0,AOD/HFXICC4MCREC/0,AOD/HFXICC4MCGEN/0,AOD/HFSELXICC4CAND/0,AOD/HFSELLCCAND/0,AOD/HFXicc4Full/0,AOD/HFXicc4FullE/0,AOD/HFXicc4FullP/0 | \
o2-analysis-alice3-trackselection -b --configuration json://$JSON --aod-memory-rate-limit 2000000000 --shm-segment-size 16000000000 --min-failure-level error --aod-writer-keep AOD/HFSELCOLLISION/0,AOD/HFSELTRACK/0,AOD/HF2PRONG/0,AOD/HF3PRONG/0,AOD/HFCANDP3BASE/0,AOD/HFCANDP3EXT/0,AOD/HFCANDP3MCREC/0,AOD/HFCANDP3MCGEN/0,AOD/HFCANDXICC4P/0,AOD/HFCANDXICCEXT/0,AOD/HFXICC4MCREC/0,AOD/HFXICC4MCGEN/0,AOD/HFSELXICC4CAND/0,AOD/HFSELLCCAND/0,AOD/HFXicc4Full/0,AOD/HFXicc4FullE/0,AOD/HFXicc4FullP/0 | \
o2-analysis-alice3-trackextension -b --configuration json://$JSON --aod-memory-rate-limit 2000000000 --shm-segment-size 16000000000 --min-failure-level error --aod-writer-keep AOD/HFSELCOLLISION/0,AOD/HFSELTRACK/0,AOD/HF2PRONG/0,AOD/HF3PRONG/0,AOD/HFCANDP3BASE/0,AOD/HFCANDP3EXT/0,AOD/HFCANDP3MCREC/0,AOD/HFCANDP3MCGEN/0,AOD/HFCANDXICC4P/0,AOD/HFCANDXICCEXT/0,AOD/HFXICC4MCREC/0,AOD/HFXICC4MCGEN/0,AOD/HFSELXICC4CAND/0,AOD/HFSELLCCAND/0,AOD/HFXicc4Full/0,AOD/HFXicc4FullE/0,AOD/HFXicc4FullP/0 | \
o2-analysis-pid-tpc-full -b --configuration json://$JSON --aod-memory-rate-limit 2000000000 --shm-segment-size 16000000000 --min-failure-level error --aod-writer-keep AOD/HFSELCOLLISION/0,AOD/HFSELTRACK/0,AOD/HF2PRONG/0,AOD/HF3PRONG/0,AOD/HFCANDP3BASE/0,AOD/HFCANDP3EXT/0,AOD/HFCANDP3MCREC/0,AOD/HFCANDP3MCGEN/0,AOD/HFCANDXICC4P/0,AOD/HFCANDXICCEXT/0,AOD/HFXICC4MCREC/0,AOD/HFXICC4MCGEN/0,AOD/HFSELXICC4CAND/0,AOD/HFSELLCCAND/0,AOD/HFXicc4Full/0,AOD/HFXicc4FullE/0,AOD/HFXicc4FullP/0 | \
o2-analysis-alice3-pid-tof -b --configuration json://$JSON --aod-memory-rate-limit 2000000000 --shm-segment-size 16000000000 --min-failure-level error --aod-writer-keep AOD/HFSELCOLLISION/0,AOD/HFSELTRACK/0,AOD/HF2PRONG/0,AOD/HF3PRONG/0,AOD/HFCANDP3BASE/0,AOD/HFCANDP3EXT/0,AOD/HFCANDP3MCREC/0,AOD/HFCANDP3MCGEN/0,AOD/HFCANDXICC4P/0,AOD/HFCANDXICCEXT/0,AOD/HFXICC4MCREC/0,AOD/HFXICC4MCGEN/0,AOD/HFSELXICC4CAND/0,AOD/HFSELLCCAND/0,AOD/HFXicc4Full/0,AOD/HFXicc4FullE/0,AOD/HFXicc4FullP/0  --fairmq-ipc-prefix sockets && \
rm -r sockets
